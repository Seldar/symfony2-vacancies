{% extends 'base.html.twig' %}

{% block body_id 'exam_index' %}


{% block main %}
    <script type="text/template" id="entries-index">
        <h1>Examinations</h1>

        <div class="alert alert-error fade in" style="display:none">
            <button class="close"  type="button">&times;</button>
            <div class="message">test</div>
        </div>
        <form id="new_entry">
            <select name="doctors" id="new_entry_doctor" class="input-medium">
                <option value=""> - Select Doctor - </option>
                {% for doctor in doctors %}
                    <option value="{{ doctor.id }}">{{ doctor.name }}</option>
                {% endfor %}
            </select>
            <select name="patients" id="new_entry_patient" class="input-medium">
                <option value=""> - Select Patient - </option>
                {% for patient in patients %}
                    <option value="{{ patient.id }}">{{ patient.name }}</option>
                {% endfor %}
            </select>
            <textarea placeholder="Symptoms" name="symptoms" id="new_entry_symptoms" class="input-large"></textarea>
            <textarea placeholder="Treatment" name="treatment" id="new_entry_treatment" class="input-large"></textarea>
            <input type="date" name="examination_date" id="new_entry_examination_date" class="input-medium">
            <input type="time" name="examination_time" id="new_entry_examination_time" class="input-small">
            <input type="submit" value="Add" class="btn btn-success">
        </form>
        <table class="table table-striped" id="entries">
            <tr>
                <th>Doctor</th>
                <th>Patient</th>
                <th>Symptoms</th>
                <th>Treatment</th>
                <th>Examination Date</th>
                <th>Remove</th>
            </tr>
        </table>

    </script>
    <script type="text/template" id="entry">
        <td><%=entry.get('doctor')%></td>
        <td><%=entry.get('patient')%></td>
        <td><%=entry.get('symptoms')%></td>
        <td><%=entry.get('treatment')%></td>
        <td><%=entry.get('examinationDate')%></td>
        <td><input type="button" id="Entry<%=entry.get('id')%>" value="Remove" class="removeButton btn btn-success"></td>
    </script>

    {% block styles %}
        <link rel="stylesheet" type="text/css" href="{{ asset('/bundles/devtimeraffler/css/bootstrap.css') }}">
    {% endblock %}

    <div class="container-fluid">
        <div class="row-fluid">
            <div class="span10">
                <div id="container" >
                </div>
            </div>
        </div>
    </div>

    <div class="navigation text-center">
        {{ pagerfanta(examinations, 'twitter_bootstrap3_translated', { routeName: 'exam_index_paginated' }) }}
    </div>
{% endblock %}

{% block sidebar %}

{% endblock %}

{% block javascripts %}
    <script src="{{ asset('/bundles/app/js/jquery.min.js') }}" type="text/javascript"></script>
    <script src="{{ asset('/bundles/app/js/underscore.js') }}" type="text/javascript"></script>
    <script src="{{ asset('/bundles/app/js/backbone.js') }}" type="text/javascript"></script>
    <script src="{{ asset('/bundles/app/js/app.js') }}" type="text/javascript"></script>
    <script src="{{ asset('/bundles/app/js/models/model.js') }}" type="text/javascript"></script>
    <script src="{{ asset('/bundles/app/js/collections/models.js') }}" type="text/javascript"></script>
    <script src="{{ asset('/bundles/app/js/views/models/model.js') }}" type="text/javascript"></script>
    <script src="{{ asset('/bundles/app/js/views/models/models_index.js') }}" type="text/javascript"></script>
    <script src="{{ asset('/bundles/app/js/routers/models_router.js') }}" type="text/javascript"></script>
{% endblock %}


